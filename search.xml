<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>使用docker容器镜像，三步快速部署frp内网穿透</title>
      <link href="/2023/09/11/%E4%BD%BF%E7%94%A8docker%E5%AE%B9%E5%99%A8%E9%95%9C%E5%83%8F%EF%BC%8C%E4%B8%89%E6%AD%A5%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2frp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/"/>
      <url>/2023/09/11/%E4%BD%BF%E7%94%A8docker%E5%AE%B9%E5%99%A8%E9%95%9C%E5%83%8F%EF%BC%8C%E4%B8%89%E6%AD%A5%E5%BF%AB%E9%80%9F%E9%83%A8%E7%BD%B2frp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/</url>
      
        <content type="html"><![CDATA[<h1 id="使用docker容器镜像，三步快速部署frp内网穿透"><a href="#使用docker容器镜像，三步快速部署frp内网穿透" class="headerlink" title="使用docker容器镜像，三步快速部署frp内网穿透"></a>使用docker容器镜像，三步快速部署frp内网穿透</h1><h2 id="前置：1-需要一台拥有公网ip的服务器且正确安装了docker"><a href="#前置：1-需要一台拥有公网ip的服务器且正确安装了docker" class="headerlink" title="前置：1.需要一台拥有公网ip的服务器且正确安装了docker"></a>前置：1.需要一台拥有公网ip的服务器且正确安装了docker</h2><h4 id="目标：假设我在本地4000端口部署了网站想让公网上别人访问到，或者玩游戏我的世界想与不在局域网内的小伙伴联机，而正好你有一台公网ip的服务器，那么本篇文章很适合你"><a href="#目标：假设我在本地4000端口部署了网站想让公网上别人访问到，或者玩游戏我的世界想与不在局域网内的小伙伴联机，而正好你有一台公网ip的服务器，那么本篇文章很适合你" class="headerlink" title="目标：假设我在本地4000端口部署了网站想让公网上别人访问到，或者玩游戏我的世界想与不在局域网内的小伙伴联机，而正好你有一台公网ip的服务器，那么本篇文章很适合你"></a>目标：假设我在本地4000端口部署了网站想让公网上别人访问到，或者玩游戏我的世界想与不在局域网内的小伙伴联机，而正好你有一台公网ip的服务器，那么本篇文章很适合你</h4><h2 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h2><h3 id="第一步："><a href="#第一步：" class="headerlink" title="第一步："></a>第一步：</h3><p>按下面编写服务端的frps.ini和客户端的frps.ini（无需下载，自己创建，然后用文本编辑器编辑）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 服务端frps.ini</span><br><span class="line">[common]</span><br><span class="line"># 监听端口</span><br><span class="line">bind_port = 7000</span><br><span class="line"># 面板端口</span><br><span class="line">dashboard_port = 7500</span><br><span class="line"># 登录面板账号设置</span><br><span class="line">dashboard_user = admin  # 可以自行设置账号密码</span><br><span class="line">dashboard_pwd = 123456</span><br><span class="line"></span><br><span class="line"># 身份验证</span><br><span class="line">token = 12345678  # 随便，但是必须和frpc.ini中的一致</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 客户端frpc.ini</span><br><span class="line">[common]</span><br><span class="line">server_addr = 123.123.123.123        # &lt; - - - 这里替换成你的服务器的公网ip</span><br><span class="line"># 服务端监听端口</span><br><span class="line">server_port = 7000</span><br><span class="line"># 身份验证</span><br><span class="line">token = 12345678   # 与frps.ini一致，可自行修改</span><br><span class="line"></span><br><span class="line"># 编写端口规则，下面以4000端口为例</span><br><span class="line">[hexo]  # 名称，随便写</span><br><span class="line">type = tcp</span><br><span class="line">local_ip = 192.168.110.247  # 由于docker的特殊性,不可以写本机127.0.0.1，但可以写局域网内设备的ip</span><br><span class="line">local_port = 4000    # 本地需要映射的端口</span><br><span class="line">remote_port = 4001   # 本地映射到公网的端口</span><br></pre></td></tr></table></figure><h2 id="将上述两个ini文件保存到你能找到的路径，下一步有用"><a href="#将上述两个ini文件保存到你能找到的路径，下一步有用" class="headerlink" title="将上述两个ini文件保存到你能找到的路径，下一步有用"></a>将上述两个ini文件保存到你能找到的路径，下一步有用</h2><h3 id="第二步："><a href="#第二步：" class="headerlink" title="第二步："></a>第二步：</h3><p>服务端执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --restart=always --network host -d -v %你的frps.ini的路径%/frps.ini:/etc/frp/frps.ini --name frps snowdreamtech/frps</span><br></pre></td></tr></table></figure><p>客户端执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --restart=always --network host -d -v %你的frpc.ini的路径%/frpc.ini:/etc/frp/frpc.ini --name frpc snowdreamtech/frpc</span><br></pre></td></tr></table></figure><h3 id="第三步："><a href="#第三步：" class="headerlink" title="第三步："></a>第三步：</h3><h5 id="设置防火墙"><a href="#设置防火墙" class="headerlink" title="设置防火墙"></a>设置防火墙</h5><p>服务端防火墙开放端口：7000，7500，本地映射到公网的端口</p><p>客户端防火墙开放端口：7000，你想要本地映射出去的端口</p><h5 id="如果这一步嫌麻烦且不在乎安全的话，可以直接关闭防火墙（haha）"><a href="#如果这一步嫌麻烦且不在乎安全的话，可以直接关闭防火墙（haha）" class="headerlink" title="如果这一步嫌麻烦且不在乎安全的话，可以直接关闭防火墙（haha）"></a>如果这一步嫌麻烦且不在乎安全的话，可以直接关闭防火墙（haha）</h5><h5 id="访问frp后台面板（可选）"><a href="#访问frp后台面板（可选）" class="headerlink" title="访问frp后台面板（可选）"></a>访问frp后台面板（可选）</h5><p>http:&#x2F;&#x2F;服务器ip:7500&#x2F;</p><p>进去后登录frps.ini里设置的账号密码，这里可以监控流量等</p><h2 id="大功告成"><a href="#大功告成" class="headerlink" title="大功告成"></a>大功告成</h2><p>访问 服务器ip:4001, 进入了本地4000端口部署的页面</p><p>tip：如果不行一定多检查防火墙，确保开放了对应端口</p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
